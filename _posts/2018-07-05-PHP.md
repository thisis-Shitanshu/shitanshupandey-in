---
layout: post
title: "PHP"
categories: PHP
published: true
---
Notes on PHP.

# #Windows Installation
- Go to: `php.net`
    - Windows download
        - Choose the Thread safe version appropriate for your OS.
            - Download the Zip file.
- Extract file to `C:\php` or any dir.
- Configure your Path variable to System Env.
    - ADD to User Variables.
- Open Cmd:
    - `$ echo %PATH%`
    - `$ php -v`

# #`Hello World` Setup
- Need to start a PHP Web Server in the project root.
    
    ```
    $ php -S localhost:4000
    ```
- PHP is tightly coupled with HTML.
    - Within HTML syntax, PHP is written in PHP tags.
    
    ```php
    <body>
        <?php
            echo("Hello World")
        ?>
    </body>
    ```

### #Writing HTML in PHP
- `echo`: 
    - It is a command what is use to write on HTML Document.
    - One can write valid html directly from `echo` command.

    ```php
    echo "<h1>HTML command from `echo`</h1>";
    ```

## #Variables

```php
$characterName = "John";
$characterAge = 35;

echo "There once was a man named $characterName <br>";
echo "He was $characterAge  years old <br>";

$characterName = "Mike";

echo "He really like the name $characterName <br>";
echo "But didn't like being $characterAge";
```

## #Data Types
- String: `$phrase = "Giraffe Academy";`
    1. Change case:
        - `strtolower($phrase);`
        - `strtoupper($phrase);`
    1. Number of Charachters:
        - `strlen($phrase);`
    1. Index of Char in String:
        - `$phrase[2];`
    1. Modify individual Char:
        - `$phrase[1] = "a";`
    1. Replace substring:
        - `str_replace("Giraffe", "Panda", $phrase);`
    1. Get a substring:
        - `substr($phrase, 8)`
        - `substr($phrase, 8, 3)`
- Whole Number: `$num = -10;`
    1. Maths operation:
        - `$num + 10;`
        - `$num - 10;`
        - `$num * 10;`
        - `$num / 10;`
        - `$num % 2;`
    1. PHP follows normal order of operations.
    1. Increment/ Decrement:
        - `$num++;`
        - `$num--;`
    1. Shorthand for operation on same number:
        - `$num += 10;`
        - `$num -= 10;`
        - `$num *= 10;`
        - `$num /= 10;`
    1. Absolute number of a value:
        - `abs($num);`
    1. Power of a number:
        - `pow($num, 4);`
    1. Squareroot:
        - `sqrt($num);`
    1. Compare number:
        - `max($num, 10);`
        - `min($num, 10);`        
- Decimals: `$gpa = 3.0;`
    1. Round a number:
        - `round($gpa);`
    1. Celing:
        - `ceil($gpa);`
    1. Floor:
        - `floor($gpa);`
- Boolean: `$isMale = true;`
- Null: `null`;

## #User Input
- Need to set up a form to get input for php server.

```php
<body>
    <form action="site.php" method="get">
        Name: <input type="text" name="username">
        <br>
        Age: <input type="text" name="age">
        <br>
        <input type="submit">
    </form>
    <br>
    Your name is <?php echo $_GET["username"] ?>
    <br>
    Your age is <?php echo $_GET["age"] ?>
</body>
```

## #URL Parameters
- A value that can be attached to the end of a URL, i.e., passing a value to the PHP.
- POST vs GET:
    - With POST information doesn't show up in the URL.
    
    ```php
    <form action="site.php" method="post">
        Password: <input type="password" name="password">
        <br>
        <input type="submit">
    </form>
    <br>
    <?php
        echo $_POST["password"];
    ?>
    ```

## #Arrays
- Store multiple variables with multiple datatype in the array.
    - `$friends = array("Kevin", "Molly", "Oscar", 2, true, "James");`
    - Output Value
        - `echo $friends[0];`
    - Modify data at an index
        
        ```php
        $friends[1] = 400;
        echo $friends[0];
        ```
    - Add an array element:
        - `$friends[10] = "Angela";`
    - Count number of elements:
        - `echo count(friends);`

- Using Checkboxes:

```php
<body>
    <form action="site.php" method="post">
    Apples: <input type="checkbox" name="fruits[]" value="apples">
    <br>
    Oranges: <input type="checkbox" name="fruits[]" value="oranges">
    <br>
    Pears: <input type="checkbox" name="fruits[]" value="pears">
    <br>
    <input type="submit">
</form>
<br>
<?php
    $fruits = $_POST["fruits"];
    echo $fruits[0];
?>
</body>
```

- Associative Arrays:
    - Store a series of Key, Value pair.
        - With keys always unique.
        - `$grades = array("Jim" => "A+", "Pam"=>"B-", "Oscar"=>"C+");`
    - Get value:
        - `echo $grades["Jim"];`
    - Modify value using key:
        - `$grades["Jim"] = "F";`

## #Functions
- Declaration:

```php
function sayHi($name, $age) {
    echo "Hello $name, you are $age <br>";
}
```

- Calling a function:
    - `sayHi("Mike", 40);`
- Return Statements:

```php
function cube($num) {
    return $num * $num * $num;
}

echo cube(4);
```

## #If Statements

```php
$isMale = false;
$isTall = true;
if ($isMale && $isTall) {
    echo "You are a tall male";
} elseif ($isMale && !$isTall) {
    echo "You are not a tall man";
} elseif (!$isMale && $isTall) {
    echo "You are not a man but tall";
} else {
    echo "You are not male"
}
```

- Comparision:
    - `$num1 > $num2`
    - `$num1 >= $num2`
    - `$num1 < $num2`
    - `$num1 <= $num2`
    - `$num1 == $num2`
    - `$num1 != $num2`

## #Switch Statements

```php
$grade = $_POST["grade"];
switch($grade) {
    case "A":
        echo "You did amazing!";
        break;
    case "B":
        echo "You did pretty good!";
        break;
    case "F":
        echo "You FAIL!";
        break;
    default:
        echo "Invalid Grade";
        break;
}
```

## #While Loops
- Check the condition then run the block.

```php
$index = 1;
while($index <= 5) {
    echo "$index <br>";
    $index++;
}
```

- do While Loop:
    - Execute the block then check the condition.
```php
$index = 1;
do {
    echo "$index <br>";
    $index++;
} while($index <= 5);
```

## #For Loops

```php
$luckyNumbers = array(4, 8, 14, 16, 23, 42);

for( $i = 0; $i < count($luckyNumbers); $i++ ) {
    echo "$luckyNumbers[$i] <br>";
}
```

## #Comments
- Single Line: `// comment...` 
- Multi-line: `/* ... */`

## #Including HTML & PHP
- Include statement allows us to include the contents of another HTML, PHP file in current file.
    - HTML:

    ```php
    <?php include "header.html" ?>
    <p>Hello World</p>
    <?php include "footer.html" ?>
    ```

    - PHP:

    ```php
    // article-header.php
    <h2><?php echo $title; ?></h2>
    <h4><?php echo $author; ?></h4>
    word count: <?php echo $wordCount; ?>

    // useful-tools.php
    <?php
        $feetInMile = 5280;
        function sayHi($name) {
            echo "Hello $name";
        }
    ?>

    // site.php
    <?php
        $title = "My First Post";
        $author = "Mike";
        $wordCount = 400;
        include "article-header.php"

        include "useful-tools.php";
        sayHi("mike");
        echo $feetInMilel;
    ?>
    ```

## #Classes & Objects
- Classes
- Objects
- Object functions
- Getters and Setters
    - Set Visibility Modifiers to Variable
    - Set Getter and Setter
    - Enforce Rules.

```php
class Student {
    public $name;
    public $major;
    private $gpa;

    function __construct($name, $major, $gpa) {
        $this->name = $name;
        $this->major = $major;
        $this->setGpa($gpa);
    }

    function hasHonors() {
        if($this->gpa >= 3.5) {
            // PHP cannot print true or false
            return "true";
        }
        return "false";
    }

    function getGpa() {
        return $this->gpa;
    }

    function setGpa($gpa) {
        if($gpa == 1 || $gpa == 2 || $gpa == 3 || $gpa == 4) {
            $this->gpa = $gpa;
        } else {
            $this->gpa = "NA";
        }
    }
}

// Instance of Class or Object
/*
$book1 = new Student;
$book1->title = "Harry Potter";
$book1->author = "JK Roling";
$book1->pages = 400;

echo $book1->title;
*/

$student1 = new Student("Jim", "Business", 2);

$student2 = new Student("Pam", "Art", 3);

echo $student1->getGpa();
$student1->setGpa(4);
echo $student1->hasHonors();

echo $student2->getGpa();
echo $student2->hasHonors();
```

## #Inheritance

```php
class Chef {
    function makeChicken() {
        echo "The chef makes chicken <br>";
    }
    function makeSalad() {
        echo "The chef makes salad<br>";
    }
    function makeSpecialDish() {
        echo "The chef makes bbq ribs <br>";
    }
}

class ItalianChef extends Chef {
    function makePasta() {
        echo "The chef makes pasta <br>";
    }

    function makeSpecialDish() {
        echo "The chef makes chicken parm <br>";
    }
}

$chef = new Chef;
$chef->makeChicken();
$chef->makeSpecialDish();

$italianChef = new ItalianChef;
$italianChef->makeChicken();
$italianChef->makePasta();
$italianChef->makeSpecialDish();
```
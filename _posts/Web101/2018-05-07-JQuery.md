---
layout: post
title: "JQuery"
categories: JQuery
published: true
---
Notes on JQuery.

## #Basics
- Lightweight JavaScript library.
- It simplifies AJAX call and DOM manipulation.
- Use a CDN in your project `head` tag.

```html
<head>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"
    ></script>
</head>
```

- Basic syntax

```javascript
//$(selctor).action()

$(document).ready(function() {
    $("h3").click(function() {
        $("#cereal").hide();
    });
});
```

## #Events
- `$("p").click(function() {});`
    - `$("p").on("click", function() {});`
- `$("p").dblclick(function() {});`
- `$("p").mouseenter(function() {});`
    - `$("p").on("mouseenter", function() {});`
    - `$("p").on("click mouseenter", function() {});`
    
    ```javascript
    $("p").on({
        "click": function() {},
        "mouseenter": function() {},
    });
    ```
- `$("p").mouseleave(function() {});`
- `$("p").mousedown(function() {});`
- `$("p").mouseup(function() {});`
- `$("p").hover(function() {}, function() {});`
    - Two functions; one for mouse enter and one for leave.

### #Form events
- `$("input").focus(function() {});`
- `$("input").blur(function() {});`
- `$("input").change(function() {});`


- To remove an event:
    - `$("p").off("click", function() {});`
- Run an event once:
    - `$("p").one("click", function() {});`

## #Effects
- Hide: `$("img").hide();`
    - Slide effect: `$("h1").slideUp(500);`
    - Fade effect: `$("h1").fadeOut(500);`
- Show: `$("img").show();`
    - Slide effect: `$("h1").slideDown(1500);`
    - Fade effect: `$("h1").fadeIn(500);`
- Animation:
    - Hide Slow: `$("img").hide("slow");`
        - `$("img").hide(500);` in milisecond.
    - Show Fast: `$("img").show("fast");`
        - `$("img").show("1500");`
- Toggle: Show if hidden, hide if visible.
    - `$("h1").toggle();`
    - `$("h1").toggle(700);`
    - `$("h1").toggle("normal");`

### #Method chaining
```javascript
$("h1").hide();
$("h1").fadeIn(2000).addClass("blue");
```
- To differ an animation after an effect has completed, one needs to use Animation callback.

    ```javascript
    $("h1").hide();
    $("h1").fadeIn(2000, function() {
        $(this).addClass("blue")
    });
    ```

- Delay method: `$("p").hide(500).delay(1000).show(300);`

## #Animate
- .animate method performs set of custom CSS properties.
- It changes an element from one state to another with CSS styles.
- CSS property is changed gradually to create a CSS effect.
    - Only numeric values can be animated.
- Syntax:
    - `.animate(properties, [ duration], [easing], [complete])`
    - `.animate(properties, options)`

- Example:

```javascript
$("#go").click(function() {
    $("#block").animate({
        opacity: .5,
        marginLeft: "+=50",
        height: "400px"
    }, 3000, "liner", function() {
        $(this).after("<div>Animate complete.</div>");
    });
});
```

- Chain animation:

```javascript
$("#go").click(function() {
    $("#block")
        .animate({ width: "90%" }, 3000);
        .animate({ fontSize: "40px" }, 3000);
        .animate({ borderLeftWidth: "30px" }, 3000);
});
```

## #`get` and `set`: http, text, val, and attr
- Show text only:

```javascript
$("#btn").click(function() {
    console.log($("#test").text())
})
```

- Show text with html:

```javascript
$("#btn").click(function() {
    console.log($("#test").html())
})
```

- Get attribute of anchor tag:

```javascript
$("#btn").click(function() {
    console.log($("#fcc").attr("href"))
})
```

- Set text only:

```javascript
$("#btn2").click(function() {
    $("#test").text("freeCodeCamp is awesome!")
})
```

- Set text with html:

```javascript
$("#btn2").click(function() {
    $("#test").html("freeCodeCamp is <b>awesome</b>!")
})
```

- Update a value of the input field:

```javascript
$("#btn3").click(function() {
    $("#name").val("Quincy Larson")
})
```

- Callback:

```javascript
$("#btn2").click(function() {
    $("#p").text(function(i, origText) {
        return "Old text:" + origText + "New text: freeCodeCamp is awesome! (index: " + i + ")"
    })
})
```

## #Adding and Removing DOM elements: the Imperative way
- Child elements:
```javascript
$('.target')
    .append('<div class="child">Append</div>', '<p>Hello!</p>')
    .prepend('<div class="child">Prepend</div>')
```

 - Sibling:

```javascript
$('.target')
    .before('<div class="sibling">Before</div>')
    .after('<div class="sibling">After</div>')
```

- Remove method: selected element and its child element.
    - `$('.target').remove()`
    - Specific:
        - `$('.target').remove('.filter')`

- Empty method: remove the child element from selected element.
    - `$('.target').empty()`

## #CSS and Class
- CSS

```javascript
$("button").click(function() {
    // Show css value
    console.log($("p").css("font-size"));

    // Set css value
    $("p.big").css("font-size", "100px");

    // Multiple values
    $("p").css({
        fontSize: "50px",
        color: "blue",
        background: "yellow"
    });
});
```

- Class

```javascript
$("button").click(function() {
    $("p").addClass("small");
    $("p").removeClass("big");
    $("p").toggleClass("star");
    console.log($("h2").hasClass("red"));
});
```

## #DOM Traversal: find parent and child nodes
- Find Parent

```javascript
$("li").parent().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// To the root
$("li").parents().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Until
$("li").parentsUntil("div").css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});
```

- Find children

```javascript
$("li").children().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Specific
$("li").children("h2").css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Find all children
$("li").find("span").css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});
```

- Sibling

```javascript
$("h2").siblings().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Specific
$("h2").siblings("p").css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Next sibling One
$("h2").next().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Next sibling All
$("h2").nextAll().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Next sibling Until
$("span.child").nextUntil("h3").css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});

// Previous
$("span.child").prev().css({
    "color": "chocolate",
    "border": "2px solid chocolate"
});
```

## #AJAX
- It allows to exchange data from a server without reloading the entire page.

- AJAX with vanilla JS:

```javascript
function loadDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.reddyState == 4 && this.status === 200) {
            if(this.readyState == 4 && this.status == 200) {
                document.getElementById("demo").innerHTML = this.responseText;
            }
        };
    };
    xhttp.open("GET", "https://cors-anywhere.herokuapp.com/http://carnes.css/code/ajax_example.txt", true);
    xhttp.send();
}
```

- AJAX with jQuery

```javascript
function loadDoc() {
    $("#demo").load("https://cors-anywhere.herokuapp.com/http://carnes.css/code/ajax_example.txt", 
    function(responseTxt, statusTxt, xhr) {
        if(statusTxt == "success")
            alert("External content loaded successfully!");
         if(statusTxt == "error")
            alert("Error: " + xhr.status + ": " + xhr.status.Text);
    });
}
```

- Get Method: this does not load anywhere by default.

```javascript
function loadDoc() {
    $get("https://cors-anywhere.herokuapp.com/http://carnes.css/code/ajax_example.txt", 
        function(data, status) {
            console.log("Data: " + data + "\nStatus: " + status );
        }
    );
}
```

- Post:

```javascript
function loadDoc() {
    $post("https://cors-anywhere.herokuapp.com/http://carnes.css/code/ajax_example.txt", 
        {
            name: "Shitanshu",
            city: "New Delhi"
        }
        function(data, status) {
            console.log("Data: " + data + "\nStatus: " + status );
        }
    );
}
```

## #jQuery vs JavaScript
```javascript
// the jQuery way
var $elem = $(".someClass")
$elem.before($otherElem)
$elem.prepend($otherElem)
$elem.replaceWith($otherElem)
$elem.closest("div")
$elem.remove()

$elem.fadeIn()
$elem.animate({
    width: "70%",
    opacity: 0.4,
    marginLeft: "0.6in",
    fontSize: "3em",
    borderWidth: "10px"
}, 1500);

// the vanilla JavaScript way
var elem = document.querySelector(".someClass");
elem.before(otherElem)
elem.prepend(otherElem)
elem.replaceWith(otherElem)
elem.closest("div")
elem.remove()

elem.style.display = "block";
requestAnimationFrame(() => elem.style.opacity = 1);
elem.animate([
    {
        transform: 'translateY(-1000px) scaleY(2.5) scaleX(.2)',
        transformOrigin: '50% 0',
        filter: 'blur(40px)',
        opacity: 0
    },
    {
        transform: 'translateY(0) scaleY(1) scaleX(1)',
        transformOrigin: '50% 50%',
        filter: 'blur(0)',
        opacity: 1
    }
], 1000);
```

- Polyfill:
```html
<script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
```